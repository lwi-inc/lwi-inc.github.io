<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Louis Delloye - Shootings</title>
  <meta name="description" content="Louis Delloye — shootings portfolio." />

  <link rel="icon" type="image/x-icon" href="./assets/favicon.svg" />

  <!-- Your existing CSS -->
  <link rel="stylesheet" href="output.css" />
  <link rel="stylesheet" href="styles.css" />

  <!-- Alpine.js (navbar) -->
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Nothing+You+Could+Do&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Signika:wght@400;700&display=swap" rel="stylesheet">

  <!-- ✅ Fancybox (viewer) CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css" />

  <style>
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .animate-fade-in { animation: fadeIn .6s ease-out forwards; }

    /* ---------- Responsive masonry-ish gallery ---------- */
    .masonry {
      column-count: 1;
      column-gap: 16px;
    }
    @media (min-width: 600px) { .masonry { column-count: 2; } }
    @media (min-width: 1024px) { .masonry { column-count: 3; } }

    .masonry-item { break-inside: avoid; margin-bottom: 16px; }

    .card {
      display: block;
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      background: white;
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 10px 18px rgba(0,0,0,.10);
      transition: transform .18s ease, opacity .18s ease;
    }
    .card:hover { transform: translateY(-2px); opacity: .94; }
    .card img { display: block; width: 100%; height: auto; }

    .caption {
      position: absolute;
      left: 10px;
      right: 10px;
      bottom: 10px;
      font-family: Signika, sans-serif;
      font-size: 12px;
      line-height: 1.2;
      color: rgba(0,0,0,.72);
      background: rgba(255,255,255,.82);
      border: 1px solid rgba(0,0,0,.10);
      padding: 7px 9px;
      border-radius: 10px;
      backdrop-filter: blur(6px);
      opacity: 0;
      transform: translateY(4px);
      transition: opacity .18s ease, transform .18s ease;
      pointer-events: none;
    }
    @media (hover: none) { .caption { opacity: 1; transform: translateY(0); } }
    @media (hover: hover) { .card:hover .caption { opacity: 1; transform: translateY(0); } }

    @media (prefers-color-scheme: dark) {
      .card { background: #0b0b0b; border-color: rgba(255,255,255,.10); }
      .caption {
        background: rgba(0,0,0,.55);
        border-color: rgba(255,255,255,.14);
        color: rgba(255,255,255,.78);
      }
    }

    .error-box {
      display: none;
      margin-top: 18px;
      text-align: center;
      font-size: 14px;
      color: rgba(0,0,0,.6);
    }
    @media (prefers-color-scheme: dark) {
      .error-box { color: rgba(255,255,255,.65); }
    }
  </style>
</head>

<body class="dark:bg-black bg-white min-h-screen text-black dark:text-white px-5 md:px-20 animate-fade-in transition duration-500">

  <!-- Navbar -->
  <header class="flex w-full overflow-hidden pt-10 pb-1">
    <nav id="nav" x-data="{ open: false }" role="navigation" class="w-full">
      <div class="container mx-auto flex flex-wrap items-center md:flex-no-wrap">
        <div class="mr-4 md:mr-8">
          <a href="index.html" class="text-2xl font-signika font-bold">Louis Delloye</a>
        </div>

        <div class="ml-auto md:hidden flex items-center justify-start">
          <button onclick="menuToggle()" @click="open = !open"
            class="tap-highlight-transparent text-black dark:text-white w-5 h-5 relative focus:outline-none">
            <span class="sr-only">Open main menu</span>
            <div class="block w-5 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2">
              <span aria-hidden="true"
                class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out"
                :class="{'rotate-45': open,' -translate-y-1.5': !open }"></span>
              <span aria-hidden="true"
                class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out"
                :class="{'opacity-0': open } "></span>
              <span aria-hidden="true"
                class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out"
                :class="{'-rotate-45': open, ' translate-y-1.5': !open}"></span>
            </div>
          </button>
        </div>

        <div id="menu"
          class="w-full h-0 transition-all ease-out duration-500 md:transition-none md:w-auto md:flex-grow md:flex md:items-center">
          <ul id="ulMenu"
            class="flex flex-col duration-300 ease-out md:space-x-5 sm:transition-none mt-5 md:flex-row md:items-center md:ml-auto md:mt-0 md:pt-0 md:border-0">
            <li class="group transition duration-300">
              <a href="index.html" class="font-signika text-2xl">PORTFOLIO
                <span class="hidden md:block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-black dark:bg-white"></span>
              </a>
            </li>
            <li class="group transition duration-300">
              <a href="shootings.html" class="font-signika text-2xl">SHOOTINGS
                <span class="hidden md:block h-0.5 bg-black dark:bg-white"></span>
              </a>
            </li>
            <li class="group transition duration-300">
              <a href="https://louisdelloye.github.io/art-gallery/build" class="font-signika text-2xl">3D EXHIBITION
                <span class="hidden md:block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-black dark:bg-white"></span>
              </a>
            </li>
            <li class="group transition duration-300">
              <a href="about_me.html" class="font-signika text-2xl">ABOUT
                <span class="hidden md:block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-black dark:bg-white"></span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main class="container mx-auto">
    <h1 class="text-4xl pt-10 pb-8"><b>SHOOTINGS</b></h1>

    <section aria-label="Gallery">
      <div id="gallery" class="masonry"></div>
      <div id="galleryError" class="error-box"></div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="max-w-screen-xl py-16 mx-auto">
      <div class="grid grid-cols-1 gap-8 text-center mx-auto">
        <div>
          <p class="font-signika"><b>Louis Delloye</b></p>
          <p class="mt-4 text-sm text-gray-600 dark:text-gray-300">
            Paris<br />France
          </p>
          <div class="flex mx-auto">
            <div class="mx-auto mt-8">
              <img src="assets/qr-code.svg" alt="qr-code" width="100">
            </div>
          </div>
          <div class="flex mx-auto">
            <div class="mx-auto space-x-6 flex mt-8 text-gray-600 dark:text-gray-300">
              <a class="transition duration-300 hover:opacity-75" href="https://www.instagram.com/lwi_inc" target="_blank" rel="noreferrer">
                <span class="sr-only">Instagram</span>
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                  <path
                    d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003z" />
                </svg>
              </a>

              <a class="transition duration-300 hover:opacity-75"
                href="https://www.linkedin.com/in/louis-delloye-021744b1/?locale=en_US" target="_blank" rel="noreferrer">
                <span class="sr-only">LinkedIn</span>
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                  <path
                    d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146z" />
                </svg>
              </a>
            </div>
          </div>

        </div>
      </div>
    </div>
  </footer>

  <script src="fade_in.js"></script>
  <script src="menu.js"></script>

  <!-- ✅ Fancybox viewer JS -->
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>

  <script>
    (function () {
      const JSON_URL = "./assets/imgs-shootings/images.json";
      const IMG_BASE = "./assets/imgs-shootings/";

      const gallery = document.getElementById("gallery");
      const err = document.getElementById("galleryError");

      function safeUrl(file) {
        return IMG_BASE + encodeURIComponent(file);
      }

      function showError(msg) {
        err.style.display = "block";
        err.textContent = msg;
      }

      function clearError() {
        err.style.display = "none";
        err.textContent = "";
      }

      function render(items) {
        gallery.innerHTML = "";
        const frag = document.createDocumentFragment();

        items.forEach((it) => {
          if (!it || !it.file) return;

          const wrap = document.createElement("div");
          wrap.className = "masonry-item";

          const a = document.createElement("a");
          a.className = "card";
          a.href = safeUrl(it.file);

          // Fancybox hook (NO caption)
          a.dataset.fancybox = "gallery";

          const img = document.createElement("img");
          img.src = safeUrl(it.file);
          img.alt = "";               // optional: empty alt if you want zero text
          img.loading = "lazy";
          img.decoding = "async";

          a.appendChild(img);
          wrap.appendChild(a);
          frag.appendChild(wrap);
        });

        gallery.appendChild(frag);

        Fancybox.bind('[data-fancybox="gallery"]', {
          animated: true,
          dragToClose: true,
          closeButton: "top",
          idle: false,
          placeFocusBack: true,
          Thumbs: { autoStart: false },
          Toolbar: {
            display: {
              left: [],
              middle: [],
              right: ["close"]
            }
          }
        });
      }

      async function init() {
        let data;
        try {
          const res = await fetch(JSON_URL, { cache: "no-cache" });
          if (!res.ok) throw new Error("HTTP " + res.status);
          data = await res.json();
        } catch (e) {
          console.error(e);
          showError("Could not load images.json. Make sure it exists at assets/imgs-shootings/images.json on GitHub Pages.");
          return;
        }

        const items = Array.isArray(data.images) ? data.images.slice() : [];
        if (!items.length) {
          showError("No images found in images.json.");
          return;
        }

        // Default A→Z (title, fallback to file)
        items.sort((a, b) =>
          String(a.title || a.file).localeCompare(
            String(b.title || b.file),
            undefined,
            { numeric: true, sensitivity: "base" }
          )
        );

        clearError();
        render(items);
      }

      document.addEventListener("DOMContentLoaded", init);
    })();
  </script>
</body>

</html>
